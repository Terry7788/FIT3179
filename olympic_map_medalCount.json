{
    "$schema": "https://vega.github.io/schema/vega-lite/v5.json",
    "title": "2024 Summer Olympics Medal Count by Country",
    "width": 1000,
    "height": 600,
    "projection": {"type": "equalEarth"},
    "layer": [
      {
        "data": {"graticule": {"step": [30, 30]}},
        "mark": {"type": "geoshape", "stroke": "lightgray", "strokeWidth": 0.5}
      },
      {
        "data": {
          "url": "https://raw.githubusercontent.com/Terry7788/FIT3179/refs/heads/main/ne_110m_admin_0_countries%20(1).json",
          "format": {"type": "topojson", "feature": "ne_110m_admin_0_countries"}
        },
        "mark": {"type": "geoshape", "fill": "lightgray", "stroke": "white"}
      },
      {
        "data": {
          "url": "https://raw.githubusercontent.com/Terry7788/FIT3179/refs/heads/main/ne_110m_admin_0_countries%20(1).json",
          "format": {"type": "topojson", "feature": "ne_110m_admin_0_countries"}
        },
        "transform": [
          {
            "lookup": "properties.NAME",
            "from": {
              "data": {
                "url": "https://raw.githubusercontent.com/Terry7788/FIT3179/refs/heads/main/Olympic_Map_MedalCount.csv"
              },
              "key": "Country",
              "fields": ["Total_Medals"]
            }
          },
          {
            "calculate": "isValid(datum.Total_Medals) ? datum.Total_Medals : 'No data'",
            "as": "Medal_Info"
          }
        ],
        "mark": {"type": "geoshape", "stroke": "white"},
        "encoding": {
          "color": {
            "field": "Total_Medals",
            "type": "quantitative",
            "scale": {
              "type": "threshold",
              "domain": [1, 5, 10, 20, 50, 100],
              "range": [
                "#deebf7",
                "#c6dbef",
                "#9ecae1",
                "#6baed6",
                "#3182bd",
                "#08519c"
              ]
            },
            "legend": {"title": "Total Medals", "format": "~s"}
          },
          "tooltip": [
            {"field": "properties.NAME", "type": "nominal", "title": "Country"},
            {
              "field": "Medal_Info",
              "type": "nominal",
              "title": "Total Medals"
            }
          ]
        }
      }
    ]
  }
  