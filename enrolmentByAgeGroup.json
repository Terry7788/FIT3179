{
    "$schema": "https://vega.github.io/schema/vega-lite/v5.json",
    "description": "Line Chart of Enrolment by Age Group and Sex with Distinct Points, Tooltip, and Centered Title",
    "title": {
      "text": "Enrolment in Study by Age Group and Sex (2023)",
      "anchor": "middle",
      "fontSize": 16
    },
    "width": 1000,
    "height": 400,
    "data": {
      "url": "https://raw.githubusercontent.com/Terry7788/FIT3179/refs/heads/main/Data/updated_enrollment_by_age_and_sex.csv"
    },
    "transform": [
      {
        "fold": ["Male (%)", "Female (%)"],
        "as": ["Sex", "Percentage"]
      }
    ],
    "layer": [
      {
        "mark": {
          "type": "line",
          "point": {
            "filled": true,
            "size": 100
          }
        },
        "encoding": {
          "x": {
            "field": "Age Group",
            "type": "ordinal",
            "axis": {"title": "Age Group", "labelAngle": 0}
          },
          "y": {
            "field": "Percentage",
            "type": "quantitative",
            "axis": {"title": "Enrolment Percentage"}
          },
          "color": {
            "field": "Sex",
            "type": "nominal",
            "scale": {
              "domain": ["Male (%)", "Female (%)"],
              "range": ["#8B4513", "#FFB6C1"]  
            },
            "legend": {"title": "Sex"}
          },
          "tooltip": [
            {"field": "Age Group", "type": "ordinal", "title": "Age Group"},
            {"field": "Sex", "type": "nominal", "title": "Sex"},
            {"field": "Percentage", "type": "quantitative", "title": "Enrolment Percentage"}
          ]
        }
      },
      {
        "mark": {"type": "text", "fontSize": 12, "fill": "black"},
        "encoding": {
          "x": {"value": 455},
          "y": {"value": 255},
          "text": {"value": "After age 29, the rate of enrolment in study declines drastically!"}
        }
      },
      {
        "mark": {"type": "rule", "color": "black", "strokeWidth": 1},
        "encoding": {
          "x": {"value": 455},
          "x2": {"value": 280},
          "y": {"value": 270},
          "y2": {"value": 325}
        }
      }
    ]
  }